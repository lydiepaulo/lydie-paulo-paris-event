(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{102:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(11),r=c.n(a),i=(c(46),c(7)),l=c(8),o={formatDate:function(e){return new Date(e).toLocaleString("fr-FR").slice(0,-3).replace(/:/g,"h")},headerScroll:function(){var e=window.pageYOffset;window.onscroll=function(){var t=window.pageYOffset;console.log(window.pageYOffset),0===window.pageYOffset?(document.getElementById("nav").style.top="0",document.getElementById("nav").classList.remove("nav-apparate")):e>t?document.getElementById("nav").style.top="0":(document.getElementById("nav").style.top="-84px",document.getElementById("nav").classList.add("nav-apparate")),e=t}}},j=c(0),d=function(){return Object(s.useEffect)((function(){o.headerScroll()}),[]),Object(j.jsx)("nav",{className:"nav",id:"nav",children:Object(j.jsxs)("ul",{className:"nav-bar",children:[Object(j.jsx)("li",{className:"nav-bar__home",children:Object(j.jsx)(l.c,{exact:!0,to:"/",children:Object(j.jsx)("img",{src:"data:image/png;base64,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",alt:"favicon",className:"logo"})})}),Object(j.jsx)("li",{children:Object(j.jsx)(l.c,{exact:!0,to:"/search",activeClassName:"nav-bar__active",children:"Rechercher"})}),Object(j.jsx)("li",{children:Object(j.jsx)(l.c,{exact:!0,to:"/favorites",activeClassName:"nav-bar__active",children:"Favoris"})})]})})},b=function(){return Object(j.jsxs)("div",{className:"border",children:[Object(j.jsx)("div",{className:"border-right"}),Object(j.jsx)("div",{className:"border-bottom"}),Object(j.jsx)("div",{className:"border-left"})]})},h=c(12),O=c.n(h),u=c(22),f=c(23),m=c.n(f),x="https://opendata.paris.fr/api/v2/catalog/datasets/que-faire-a-paris-/records",p={fetchAll:function(e,t,c){return Object(u.a)(O.a.mark((function s(){var n,a;return O.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n="".concat(x,"?sort=").concat(e,"&limit=").concat(t),c&&(n+="&search=".concat(c)),s.prev=2,s.next=5,m.a.get(n);case 5:return a=s.sent,s.abrupt("return",a.data.records);case 9:return s.prev=9,s.t0=s.catch(2),s.abrupt("return",v(s.t0));case 12:case"end":return s.stop()}}),s,null,[[2,9]])})))()},fetchId:function(e){return Object(u.a)(O.a.mark((function t(){var c,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c="".concat(x,"/").concat(e),t.prev=1,t.next=4,m.a.get(c);case 4:return s=t.sent,t.abrupt("return",s.data.record);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",v(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()}},v=function(e){console.log(e)},g=p,N={myLocalStorage:function(){var e=localStorage.getItem("lydieProjetFavoris");return e=e?JSON.parse(e):[]}},A=c(9),y=function(e){var t=e.id,c=Object(s.useState)(!1),n=Object(i.a)(c,2),a=n[0],r=n[1];return Object(s.useEffect)((function(){N.myLocalStorage().includes(t)&&r(!0)}),[t]),Object(j.jsxs)("button",{onClick:function(){r(!a);var e=N.myLocalStorage();e.includes(t)?(r(!1),e.splice(e.indexOf(t),1)):(r(!0),e.push(t)),localStorage.setItem("lydieProjetFavoris",JSON.stringify(e))},className:"card__like-button",children:[!a&&Object(j.jsx)(A.d,{}),a&&Object(j.jsx)(A.e,{})]})},C=function(e){var t=e.id,c=e.fields,s=c.date_start;return Object(j.jsxs)("figure",{className:"card smooth-apparition",children:[Object(j.jsxs)("figcaption",{children:[Object(j.jsx)(l.b,{to:{pathname:"/event",search:"".concat(t)},children:Object(j.jsx)("h3",{className:"title-small",children:c.title})}),Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)(y,{id:t}),o.formatDate(s)]}),Object(j.jsx)("p",{className:"card-description",children:c.lead_text})]}),Object(j.jsx)(l.b,{to:{pathname:"/event",search:"".concat(t)},children:Object(j.jsx)("img",{src:c.cover_url,alt:"Couverture"})})]})},S=function(){var e=Object(s.useState)(null),t=Object(i.a)(e,2),c=t[0],n=t[1];return Object(s.useEffect)((function(){g.fetchAll("updated_at%20desc",1).then((function(e){n(e),console.log(e)}))}),[]),Object(j.jsxs)("div",{className:"pages-background home",children:[Object(j.jsx)(d,{}),Object(j.jsxs)("main",{className:"home-main",children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("h1",{className:"title-large",children:["Bienvenue sur",Object(j.jsx)("span",{className:"title-xl",children:"Paris Events"})]}),Object(j.jsx)("h2",{children:"L'application qui permet de chercher en direct les prochains \xe9v\xe8nements parisiens"})]}),Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsxs)("div",{className:"smooth-apparition",children:[Object(j.jsx)("h3",{className:"title-medium",children:"Actualit\xe9"}),Object(j.jsx)("p",{children:"D\xe9couvrir le dernier \xe9v\xe8nement publi\xe9\xa0:"})]}),c&&c.map((function(e){return Object(j.jsx)(C,{id:e.record.id,fields:e.record.fields},e.record.id)}))]})]}),Object(j.jsx)(b,{})]})},k=function(){var e=Object(s.useState)(null),t=Object(i.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(null),r=Object(i.a)(a,2),l=r[0],o=r[1],h=Object(s.useRef)();return Object(s.useEffect)((function(){l&&(console.log(l),g.fetchAll("title",15,l).then((function(e){n(e),console.log(e)})))}),[l]),Object(j.jsxs)("div",{className:"pages-background search",children:[Object(j.jsx)(d,{}),Object(j.jsxs)("main",{className:"search-main",children:[Object(j.jsxs)("h1",{className:"title-large",children:["Les \xe9v\xe8nements",Object(j.jsx)("span",{className:"title-xl",children:"\xc0 venir"})]}),Object(j.jsxs)("form",{className:"search-bar__container",children:[Object(j.jsx)("span",{children:Object(j.jsx)("input",{type:"text",ref:h,placeholder:"Intitul\xe9 de l'\xe9v\xe8nement",id:"search-bar",name:"search",onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),o(h.current.value))}})}),Object(j.jsx)("button",{type:"button",onClick:function(){o(h.current.value)},children:"Rechercher"})]}),Object(j.jsxs)("div",{className:"results",children:[c&&Object(j.jsx)("h2",{className:"title-medium",children:"R\xe9sultats de la recherche"}),Object(j.jsxs)("div",{className:"card-container",children:[c&&0===c.length&&Object(j.jsx)("p",{className:"error",children:"Il n'y a aucun r\xe9sultat pour cette recherche"}),c&&c.map((function(e){return Object(j.jsx)(C,{id:e.record.id,fields:e.record.fields},e.record.id)}))]})]})]}),Object(j.jsx)(b,{})]})},w=c(15),I=c(38),q=c(39),R=c(41),Y=c(40),E=c(16),K=function(e){Object(R.a)(c,e);var t=Object(Y.a)(c);function c(){var e;Object(I.a)(this,c);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},e.onMarkerClick=function(t,c,s){return e.setState({selectedPlace:t,activeMarker:c,showingInfoWindow:!0})},e.onMapClicked=function(t){e.state.showingInfoWindow&&e.setState({showingInfoWindow:!1,activeMarker:null})},e}return Object(q.a)(c,[{key:"render",value:function(){return Object(j.jsx)(E.Map,{zoom:11,className:"gmap",initialCenter:{lat:this.props.coord.lat,lng:this.props.coord.lon},google:this.props.google,onClick:this.onMapClicked,children:Object(j.jsx)(E.Marker,{onClick:this.onMarkerClick,name:"Current location"})})}}]),c}(s.Component),F=Object(E.GoogleApiWrapper)({apiKey:"AIzaSyDsQ35o53s9breEodAeZcJG62-LjX1oeKo"})(K),B=function(e){var t=e.location.search.replace(/\?/g,""),c=Object(s.useState)(null),n=Object(i.a)(c,2),a=n[0],r=n[1];return Object(s.useEffect)((function(){t&&g.fetchId(t).then((function(e){r(e)}))}),[]),console.log(a),Object(j.jsxs)("div",{className:"pages-background event",children:[Object(j.jsx)(d,{}),Object(j.jsx)("main",{className:"event-main",children:a&&Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"event-main__grid",children:[Object(j.jsxs)("div",{className:"event-main__left",children:[Object(j.jsx)("h1",{className:"title-large",children:a.fields.title}),Object(j.jsx)("h2",{className:"title-small",children:a.fields.contact_name}),Object(j.jsx)("div",{children:Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"title-xs",children:"Dates\xa0:"}),Object(w.a)("".concat(a.fields.date_description))]})}),Object(j.jsx)("div",{children:Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"title-xs",children:"Prix\xa0:"}),a.fields.price_detail]})}),Object(j.jsx)("div",{children:Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"title-xs",children:"Adresse\xa0:"}),a.fields.address_name,Object(j.jsx)("br",{}),a.fields.address_street,Object(j.jsx)("br",{}),a.fields.address_city," ",a.fields.address_zipcode]})}),Object(j.jsx)("div",{children:Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"title-xs",children:"Transports\xa0:"}),Object(w.a)("".concat(a.fields.transport).replace("\n","<br />"))]})}),a.fields.lat_lon&&Object(j.jsx)("div",{className:"card-gmap",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{className:"title-xs",children:"S'y rendre\xa0:"}),Object(j.jsx)(F,{coord:a.fields.lat_lon})]})})]}),Object(j.jsxs)("div",{className:"event-main__right",children:[Object(j.jsx)("img",{src:a.fields.cover.url,alt:"\xc9v\xe8nement"}),Object(j.jsx)("div",{className:"event-main__right--contact",children:Object(j.jsxs)("div",{children:[Object(j.jsx)(y,{id:a.id}),a.fields.contact_phone&&Object(j.jsx)("span",{children:Object(j.jsx)("a",{href:"tel:".concat(a.fields.contact_phone),children:Object(j.jsx)(A.c,{})})}),a.fields.contact_mail&&Object(j.jsx)("span",{children:Object(j.jsx)("a",{href:"mailto:".concat(a.fields.contact_mail),children:Object(j.jsx)(A.a,{})})}),a.fields.contact_facebook&&Object(j.jsx)("span",{children:Object(j.jsx)("a",{href:a.fields.contact_facebook,target:"_blank",rel:"noreferrer",children:Object(j.jsx)(A.b,{})})}),a.fields.contact_twitter&&Object(j.jsx)("span",{children:Object(j.jsx)("a",{href:a.fields.contact_twitter,target:"_blank",rel:"noreferrer",children:Object(j.jsx)(A.f,{})})})]})}),Object(j.jsx)("div",{className:"event-main__right--content",children:Object(w.a)("".concat(a.fields.description))})]})]})})}),Object(j.jsx)(b,{})]})},T=function(){var e=Object(s.useState)(null),t=Object(i.a)(e,2),c=t[0],n=t[1],a=N.myLocalStorage();return Object(s.useEffect)((function(){Promise.all(a.map((function(e){return g.fetchId(e).then((function(e){return e}))}))).then((function(e){return e})).then((function(e){n(e)}))}),[]),Object(j.jsxs)("div",{className:"pages-background favorites",children:[Object(j.jsx)(d,{}),Object(j.jsxs)("main",{children:[Object(j.jsx)("h1",{class:"title-large",children:"\xc9v\xe8nements enregistr\xe9s"}),Object(j.jsxs)("div",{className:"card-container",children:[c&&0===c.length&&Object(j.jsx)("h2",{class:"title-small",children:"Aucun \xe9v\xe8nement n'a \xe9t\xe9 enregistr\xe9"}),c&&0!==c.length&&c.map((function(e){return Object(j.jsx)(C,{id:e.id,fields:e.fields},e.id)}))]})]}),Object(j.jsx)(b,{})]})},W=c(2),P=function(){return Object(j.jsxs)("div",{className:"pages-background errors",children:[Object(j.jsx)(d,{}),Object(j.jsxs)("main",{children:[Object(j.jsxs)("h1",{className:"title-large",children:["Oops\xa0!",Object(j.jsx)("div",{class:"title-xl",children:"404"})]}),Object(j.jsx)("div",{className:"errors-container smooth-apparition",children:Object(j.jsx)("p",{children:"Il semblerait que vous vous soyez perdu\xb7e\u2026"})})]}),Object(j.jsx)(b,{})]})};var V=function(){return Object(j.jsx)("div",{children:Object(j.jsx)(l.a,{children:Object(j.jsxs)(W.c,{children:[Object(j.jsx)(W.a,{path:"/",component:S,exact:!0}),Object(j.jsx)(W.a,{path:"/search",component:k}),Object(j.jsx)(W.a,{path:"/event",component:B}),Object(j.jsx)(W.a,{path:"/favorites",component:T}),Object(j.jsx)(W.a,{component:P})]})})})},J=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,103)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),s(e),n(e),a(e),r(e)}))};r.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(V,{})}),document.getElementById("root")),J()},46:function(e,t,c){}},[[102,1,2]]]);
//# sourceMappingURL=main.4947cc3a.chunk.js.map